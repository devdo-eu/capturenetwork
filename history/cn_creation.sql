BEGIN TRANSACTION;
DROP TABLE IF EXISTS "RULES";
CREATE TABLE IF NOT EXISTS "RULES" (
	"ID"		INTEGER NOT NULL UNIQUE,
	"TIME_MS"	INTEGER NOT NULL DEFAULT 50,
	"ROUNDS"	INTEGER NOT NULL DEFAULT 300,
	PRIMARY KEY("ID" AUTOINCREMENT)
);
DROP TABLE IF EXISTS "GAMES";
CREATE TABLE IF NOT EXISTS "GAMES" (
	"ID"		INTEGER NOT NULL UNIQUE,
	"DATE"		TEXT NOT NULL,
	"BOT_A"		INTEGER NOT NULL,
	"BOT_B"		INTEGER NOT NULL,
	"POINTS_A"	INTEGER NOT NULL,
	"POINTS_B"	INTEGER NOT NULL,
	"RULES"		INTEGER NOT NULL,
	"RECORD"	BLOB NOT NULL,
	FOREIGN KEY("BOT_A") REFERENCES "BOTS"("ID"),
	FOREIGN KEY("RULES") REFERENCES "RULES"("ID"),
	FOREIGN KEY("BOT_B") REFERENCES "BOTS"("ID"),
	PRIMARY KEY("ID" AUTOINCREMENT)
);
DROP TABLE IF EXISTS "BOTS";
CREATE TABLE IF NOT EXISTS "BOTS" (
	"ID"	INTEGER NOT NULL UNIQUE,
	"NAME"	TEXT NOT NULL UNIQUE,
	"WON"	INTEGER NOT NULL DEFAULT 0,
	"LOST"	INTEGER NOT NULL DEFAULT 0,
	"ELO"	INTEGER NOT NULL DEFAULT 1500,
	PRIMARY KEY("ID" AUTOINCREMENT)
);
COMMIT;
